<html>
<head>
  <title>Modes - HTML5 SDK for Brass Monkey</title>
  
  <!--  Include development implementation of brassmonkey.js. 
        RECOMMENDED: Use the minified brassmonkey.js when deploying. -->
  <script type="text/javascript" src="../../src/swfobject.js"></script>
  <script type="text/javascript" src="../../src/brassmonkey.js"></script>

  <script>
    bm.init({
      name: "Modes - SDK Examples",    	
      bmMaxPlayers:1,
      bmAppId:"62e822bc0e6b9f22fc158763591845be",
      swfURL:"../../src/swf/bin/brassmonkey.swf",
      design: {
        orientation: "portrait",
        touchEnabled: false,
        accelerometerEnabled: false,
        images:[
          '../shared/background.png'
        ],
        layout:[{
          type:   "image",
          image:  0,
          x:      0,
          y:      0,
          width:  320,
          height: 480
        }]
      }
    });
    
  	bm.onDeviceAvailable(function(device){  		
  		device.controlMode=bm.MODE_GAMEPAD;
  		return device;
  	});
  	
    bm.onShowSlot(function(color){
      document.getElementById('slot-color').style.background = color;
    });
    
    bm.onInvocation(function(invoke, deviceId){
      var keyDown = invoke.parameters[0].Value=="down";
      if(keyDown){
        document.getElementById('up').style.display = "none";
        document.getElementById('down').style.display = "inline";
      } else {
        document.getElementById('up').style.display = "inline";
        document.getElementById('down').style.display = "none";
      }
    });
    
    function onload(){
      document.getElementById('gamepad').onmousedown = function(){
        bm.setGamepadMode();
      }
      document.getElementById('navigation').onmousedown = function(){
        bm.setNavMode();
      }
      document.getElementById('keyboard').onmousedown = function(){
        bm.setKeyboardMode("","Input some text..." );
      }
    }
  </script>
  <style>
    img{
      width: 200px;
      height: 340px;
    }
    img:hover{
      cursor: pointer;
    }
  </style>
</head>
<body style="margin:0px;background:white;" onload="onload();">
  <div id="slot-color" style="width:100px;height:100px;text-align:center;line-height:100px;font-family:Arial;">Slot Color</div>
  
  <h1>Click on an image to change the controller mode.</h1>
  <img id="gamepad" src="gamepad.png"/>
  <img id="navigation" src="navigation.png"/>
  <img id="keyboard" src="keyboard.png"/>
  
</body>
</html>

